<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- qt6-changes.qdoc -->
  <title>Changes to Qt GUI | Qt GUI 6.2.3</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="../qtdoc/index.html">Qt 6.2</a></li>
<li><a href="qtgui-index.html">Qt GUI</a></li>
<li>Changes to Qt GUI</li>
<li id="buildversion"><a href="qtgui-index.html">Qt 6.2&#x2e;3 Reference Documentation</a></li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#kernel-classes">Kernel classes</a></li>
<li class="level2"><a href="#the-qbitmap-class">The QBitmap class</a></li>
<li class="level2"><a href="#the-qcursor-class">The QCursor class</a></li>
<li class="level2"><a href="#the-qkeycombination-class">The QKeyCombination class</a></li>
<li class="level1"><a href="#text-classes">Text classes</a></li>
<li class="level2"><a href="#the-qfontdatabase-class">The QFontDatabase class</a></li>
<li class="level2"><a href="#the-qfont-class">The QFont class</a></li>
<li class="level1"><a href="#painting-classes">Painting classes</a></li>
<li class="level1"><a href="#utility-classes">Utility classes</a></li>
<li class="level2"><a href="#qintvalidator-and-qdoublevalidator">QIntValidator and QDoubleValidator</a></li>
<li class="level1"><a href="#opengl-classes">OpenGL classes</a></li>
<li class="level2"><a href="#the-qopenglcontext-class">The QOpenGLContext class</a></li>
<li class="level2"><a href="#angle">ANGLE</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">Changes to Qt GUI</h1>
<!-- $$$gui-changes-qt6.html-description -->
<div class="descr" id="details">
<p>Qt 6 is a result of the conscious effort to make the framework more efficient and easy to use.</p>
<p>We try to maintain binary and source compatibility for all the public APIs in each release. But some changes were inevitable in an effort to make Qt a better framework.</p>
<p>In this topic we summarize those changes in Qt GUI, and provide guidance to handle them.</p>
<h2 id="kernel-classes">Kernel classes</h2>
<h3 id="the-qbitmap-class">The QBitmap class</h3>
<p>Implicit construction of a <a href="qbitmap.html">QBitmap</a> from a <a href="qpixmap.html">QPixmap</a> is no longer supported. The constructor and assignment operator have been made explicit and marked as deprecated. Use the new static factory function <a href="qbitmap.html#fromPixmap">fromPixmap</a> instead.</p>
<h3 id="the-qcursor-class">The QCursor class</h3>
<p>Implicit construction of a <a href="qcursor.html">QCursor</a> from a <a href="qpixmap.html">QPixmap</a> is no longer supported, the constructor has been made explicit.</p>
<h3 id="the-qkeycombination-class">The QKeyCombination class</h3>
<p><a href="../qtcore/qkeycombination.html">QKeyCombination</a> is a new class for storing a combination of a key with an optional modifier. It should be used as a replacement for combining values from the <a href="../qtcore/qt.html#Key-enum">Qt::Key</a> enum with a modifier in a type-safe way.</p>
<p>We recommend migrating code that currently uses operator+() to combine a key and modifiers, as future C++ standards are likely to declare arithmetic operations between unrelated enumeration types as illegal. Use operator|(), and change APIs that expect an <code>int</code> to expect a <a href="../qtcore/qkeycombination.html">QKeyCombination</a> instead.</p>
<p>Existing APIs that expect an <code>int</code> for a key combination can be called using <a href="../qtcore/qkeycombination.html#toCombined">QKeyCombination::toCombined</a>().</p>
<h2 id="text-classes">Text classes</h2>
<h3 id="the-qfontdatabase-class">The QFontDatabase class</h3>
<p>The <a href="qfontdatabase.html">QFontDatabase</a> class has now only static member functions. The constructor has been deprecated. Instead of e.g&#x2e;</p>
<pre class="cpp">
 <span class="keyword">const</span> <span class="type"><a href="../qtcore/qstringlist.html">QStringList</a></span> fontFamilies <span class="operator">=</span> <span class="type"><a href="qfontdatabase.html">QFontDatabase</a></span>()<span class="operator">.</span>families();
</pre>
<p>use</p>
<pre class="cpp">
 <span class="keyword">const</span> <span class="type"><a href="../qtcore/qstringlist.html">QStringList</a></span> fontFamilies <span class="operator">=</span> <span class="type"><a href="qfontdatabase.html">QFontDatabase</a></span><span class="operator">::</span>families();
</pre>
<h3 id="the-qfont-class">The QFont class</h3>
<p>The numerical values of the <a href="qfont.html#Weight-enum">QFont::Weight</a> enumerator have been changed to be in line with OpenType weight values. <a href="qfont.html#setWeight">QFont::setWeight</a>() expects an enum value instead of an <code>int</code>, and code that calls the setter with an integer will fail to compile. To continue to use old integer values, use QFont::setLegacyWeight().</p>
<h2 id="painting-classes">Painting classes</h2>
<p>See the porting guide for <a href="../qtprintsupport/printsupport-changes-qt6.html">Qt Print Support</a> for information about <a href="qpagedpaintdevice.html">QPagedPaintDevice</a> and other printing related classes.</p>
<h2 id="utility-classes">Utility classes</h2>
<h3 id="qintvalidator-and-qdoublevalidator">QIntValidator and QDoubleValidator</h3>
<p>The <a href="qintvalidator.html#setRange">setRange</a>() method is no longer marked as virtual.</p>
<h2 id="opengl-classes">OpenGL classes</h2>
<p>With the introduction of Qt RHI as the rendering foundation in Qt, most classes prefixed by <code>QOpenGL</code> have been moved into the <a href="../qtopengl/qtopengl-index.html">Qt OpenGL</a> module.</p>
<p>More details can be found in <a href="../qtopengl/opengl-changes-qt6.html">the Qt OpenGL porting guide</a>.</p>
<p>One notable exception is the class <a href="qopenglcontext.html">QOpenGLContext</a>, which still resides in Qt GUI.</p>
<p>In addition, the class <a href="../qtopengl/qopenglwidget.html">QOpenGLWidget</a> has been moved to a new module, named Qt OpenGL Widgets.</p>
<h3 id="the-qopenglcontext-class">The QOpenGLContext class</h3>
<p>The QOpenGLContext::versionFunctions() function is replaced by <a href="../qtopengl/qopenglversionfunctionsfactory.html#get">QOpenGLVersionFunctionsFactory::get</a>(). <a href="../qtopengl/qopenglversionfunctionsfactory.html">QOpenGLVersionFunctionsFactory</a> is a public class now, part of the <a href="../qtopengl/qtopengl-index.html">Qt OpenGL</a> module.</p>
<h3 id="angle">ANGLE</h3>
<p>On Windows, ANGLE, a third-party OpenGL ES to Direct 3D translator, is no longer included in Qt. This means <a href="../qtcore/qt.html#ApplicationAttribute-enum">Qt::AA_UseOpenGLES</a> and the environment variable <code>QT_OPENGL=angle</code> no longer have any effect. In <a href="../qtdoc/windows-graphics.html#dynamically-loading-opengl">dynamic OpenGL builds</a> there is no automatic fallback to ANGLE in case OpenGL proper fails to initialize. For <a href="qwindow.html">QWindow</a> or <a href="../qtwidgets/qwidget.html">QWidget</a> based applications using OpenGL directly, for example via <a href="../qtopengl/qopenglwidget.html">QOpenGLWidget</a>, this means that OpenGL proper is the only option at run time. However, the alternative of using a pure software OpenGL implementation, such as Mesa llvmpipe that is shipped with the pre-built Qt packages, is still available. For Qt Quick and Qt Quick 3D applications, Qt 6 introduces support for Direct 3D 11, Vulkan, and Metal, in addition to OpenGL. On Windows the default choice is Direct 3D, therefore the removal of ANGLE is alleviated by having support for graphics APIs other than OpenGL as well.</p>
</div>
<!-- @@@gui-changes-qt6.html -->
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2022 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.<br/>    Qt and respective logos are trademarks of The Qt Company Ltd.     in Finland and/or other countries worldwide. All other trademarks are property
   of their respective owners. </p>
</div>
</body>
</html>
