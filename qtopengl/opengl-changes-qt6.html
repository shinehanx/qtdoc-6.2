<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- qt6-changes.qdoc -->
  <title>Changes to Qt OpenGL | Qt OpenGL</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="../qtdoc/index.html">Qt 6.2</a></li>
<li><a href="qtopengl-index.html">Qt OpenGL</a></li>
<li>Changes to Qt OpenGL</li>
<li id="buildversion"><a href="qtopengl-index.html">Qt 6.2&#x2e;3 Reference Documentation</a></li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#deprecated-classes-removed">Deprecated classes removed</a></li>
<li class="level1"><a href="#qopengl-classes-migrated">QOpenGL classes migrated</a></li>
<li class="level1"><a href="#the-qopenglwidgets-class">The QOpenGLWidgets class</a></li>
<li class="level1"><a href="#selecting-the-opengl-backend-for-rhi">Selecting the OpenGL backend for RHI</a></li>
<li class="level1"><a href="#removal-of-angle">Removal of ANGLE</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">Changes to Qt OpenGL</h1>
<!-- $$$opengl-changes-qt6.html-description -->
<div class="descr" id="details">
<p>Qt 6 is a result of the conscious effort to make the framework more efficient and easy to use.</p>
<p>We try to maintain binary and source compatibility for all the public APIs in each release. But some changes were inevitable in an effort to make Qt a better framework.</p>
<p>In this topic we summarize those changes in <a href="qtopengl-index.html">Qt OpenGL</a>, and provide guidance to handle them.</p>
<h2 id="deprecated-classes-removed">Deprecated classes removed</h2>
<p>The <a href="qtopengl-index.html">Qt OpenGL</a> module was deprecated for the life time of Qt 5, and the classes it contained have been removed in Qt 6.</p>
<p>This refers specifically to the classes prefixed by <code>QGL</code>.</p>
<h2 id="qopengl-classes-migrated">QOpenGL classes migrated</h2>
<p>In Qt 5, a replacement set of OpenGL-support classes were added to Qt Gui. This was in order to support OpenGL as the cross-platform graphics API that served as foundation for graphics in Qt.</p>
<p>In Qt 6, these have been migrated to the <a href="qtopengl-index.html">Qt OpenGL</a> module. They are still usable and fully supported for applications depending on OpenGL directly. However, they are no longer considered foundational, since Qt has been extended to support other graphics APIs in its foundation, such as Direct3D, Metal and Vulkan.</p>
<p>Existing application code will largely continue working, but should now include <a href="qtopengl-index.html">Qt OpenGL</a> in project files, as well as include the headers if these were previously included indirectly through Qt Gui.</p>
<div class="admonition note">
<p><b>Note: </b>A notable exception is <a href="../qtgui/qopenglcontext.html">QOpenGLContext</a>, which still resides in Qt Gui.</p>
</div>
<h2 id="the-qopenglwidgets-class">The QOpenGLWidgets class</h2>
<p>Another exception is the <a href="qopenglwidget.html">QOpenGLWidget</a> class. This has been moved to a new module named <code>Qt OpenGL Widgets</code> and should be included from there.</p>
<h2 id="selecting-the-opengl-backend-for-rhi">Selecting the OpenGL backend for RHI</h2>
<p>In addition to adjusting project files and including headers, the application should also manually set the rendering backend to OpenGL in order to use this functionality when working with Qt Quick. By default, Qt will use the most appropriate graphics API on the target platform. See the <a href="../qtquick/qtquick-visualcanvas-scenegraph-renderer.html#rendering-via-the-qt-rendering-hardware-interface">RHI rendering documentation</a> for more details.</p>
<h2 id="removal-of-angle">Removal of ANGLE</h2>
<p>On Windows, ANGLE, a third-party OpenGL ES to Direct 3D translator, is no longer included in Qt 6. This means <code>Qt::AA_UseOpenGLES</code> and the environment variable <code>QT_OPENGL=angle</code> no longer has any effect. In dynamic OpenGL builds there is no automatic fallback to ANGLE in case OpenGL-proper fails to initialize. For <a href="../qtgui/qwindow.html">QWindow</a> or <a href="../qtwidgets/qwidget.html">QWidget</a> based applications using OpenGL directly, for example via <a href="qopenglwidget.html">QOpenGLWidget</a>, this means that OpenGL-proper is the only option at runtime. However, the use of a pure software OpenGL implementation, such as Mesa llvmpipe that is shipped with the pre-built Qt packages, is still available.</p>
<p>For Qt Quick and Qt Quick 3D applications, Qt 6 introduces support for Direct 3D 11, Vulkan, and Metal, in addition to OpenGL. On Windows, Qt 6 defaults to Direct 3D, therefore the effect of the removal of ANGLE is lessened by the addition of support to other graphics APIs.</p>
</div>
<!-- @@@opengl-changes-qt6.html -->
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2022 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.<br/>    Qt and respective logos are trademarks of The Qt Company Ltd.     in Finland and/or other countries worldwide. All other trademarks are property
   of their respective owners. </p>
</div>
</body>
</html>
